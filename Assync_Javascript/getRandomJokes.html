<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
    <title>Assynchronous JavaScript</title>
    <style>
        ol{list-style-type: none;
        min-height: 50px !important; }
    </style>
</head>
<body>
    <h5 class="display-5 text-center">
        GET RANDOM JOKES
    </h5>
    <div class="container">
        <div class="row">
          <ol id="ul" class="bg-dark p-2 m-2">

          </ol>
          <div class="btn-div col-3 mx-auto ">
            <button class="btn btn-primary  text-right">
                Get Joke             
              </button>
          </div>
          
        </div>
        
    </div>
  
    <script>
const orderedList = document.querySelector('#ul');
const button = document.querySelector('.btn')

   const getDad_jokes = async()=>{
    try{
        // some api endpoints do not provide json type of data howeve, the data api endpoint can be configured to send out json type of data. this is where configuring header comes in.
const config = {headers: {Accept: 'application/json'}};
   const res = await axios.get('https://icanhazdadjoke.com/', config);
   return res.data.joke;
    }catch(e)
    {
        console.log(e)
return "No Jokes Available";
    }

}
const addNewJoke = async ()=>{
     const jokeText= await getDad_jokes()
    const listItem = document.createElement('Li');
   listItem.classList.add('text-warning','fw-bold','p-2', 'border','my-2');
   listItem.innerText=jokeText;
   orderedList.appendChild(listItem);
   
}
button.addEventListener('click', addNewJoke)


    </script>
</body>
</html>