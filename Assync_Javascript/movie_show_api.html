<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
    <title>Assynchronous JavaScript</title>
    <style>
        ol{list-style-type: none;
        min-height: 50px !important; }
    .container{background-image: url(assets/Joker-walpaper\ -\ Copy.jpg);
    background-repeat: no-repeat;
   background-size:cover;
background-position:top;
    }
    .card-text{max-height: 100px;
    overflow: auto;}
    body{margin: 0;
    padding:0;
    background-color:  hsl(218, 28%, 13%);}
    *{box-sizing: border-box;}
    label{letter-spacing: 2px !important;}
    .card-img-top{width: 100% !important;
    height: 250px !important;}

    </style>
</head>
<body>
    
    <div class="container my-5 p-3 shadow-lg">
        <div class="row">

        
        <div class="col-md-9 order-md-2">
            <div class="row">
            <h5 class="display-6 text-center">
                Movie Search
            </h5>
            <form action="#" Class="col-md-12 search-form" method="get" enctype="multipart/form-data" >
            
                <div class="row mb-4">
                <div class="col">
                  <label for="search" class="form-label  text-dark fs-6 mb-3 text-secondary lead fw-bold">Search Movie</label>
                  <input type="text" class="form-control" id="query" placeholder="Search Movie/Show" autocomplete="off">
                </div>
        </div>
            <div class="row mb-4">
                <div class="btn-div col-4 mx-auto ">
                    <button type="submit" class="btn btn-primary  text-right">
                        Get Movie          
                      </button>
                </div>
               
            </div>
      
        </form>
        </div>
        <div class="row">
            <!-- <ol id="ul" class="bg-dark">
  
            </ol> -->
           
            
          </div>
<!--closing div for the 9 column section-->
        </div>
        
        <div class="col-md-3  order-md-1">
            <div class="card  shadow-lg col-12 mx-auto p-0">
              <img src="" alt="movie show image" class="card-img-top m-0">
              <div class="card-body my-0 py-2">
                <h5 class="card-title text-danger movieName">Movie Name</h5>
                <div class="card-text m-0">
                <p class="text-muted m-0 movieSummary">Movie summary</p>
                <p class="releasedYear">Released year</p>
                </div>
                <a href="#" class="btn px-2 text-white bg-primary shadow mb-2" name="author"> Read More</a>
              </div>
            </div>
        <!--closing div for the 3 column section-->
  </div>
       <!--closing div for the first row class-->
        </div>
        <!--closing div for the container--> 
  </div>




    <script>



// const orderedList = document.querySelector('#ul');

const form = document.querySelector('.search-form');
const movieName = document.querySelector('.movieName');
const movieSummary= document.querySelector('.movieSummary');
const releasedYear= document.querySelector('.releasedYear');

const query = document.querySelector('#query');const button = document.querySelector('.btn');
// console.log(form)
// console.log(card_img.src)
// console.log(input)
form.addEventListener('submit', function(e){
e.preventDefault();
const queryValue =query.value.trim();
const movieSearch = async()=>{
    const card_img = document.querySelector('.card-img-top')
 const res= await axios.get(`https://api.tvmaze.com/search/shows?q=${queryValue}`);
 const data = res.data[0].show;
 const image= data.image.medium;
 const showName =data.name;

 const runtime =data.runtime;
 const summary =data.summary;
 card_img.src=image;
 movieSummary.innerHTML =summary;
 movieName.textContent =showName;
//  console.log(showName)
//  console.log(data);
//  console.log(country);
//  console.log(summary);
//  console.log(runtime);
//  console.log(image);
//  console.log(card_img);
}
movieSearch();
 
form.reset()
});



  

    </script>
</body>
</html>